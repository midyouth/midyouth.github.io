<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>第六期Python中的函数与模块</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
<style type="text/css">

#wmd-preview h1  {
    color: #0077bb; /* 将标题改为蓝色 */
}</style>
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="pgzq" id="第六期python中的函数与模块">第六期Python中的函数与模块</h1><p data-anchor-id="xrcp"><code>MidYouth</code></p><div class="md-section-divider"></div><h2 data-anchor-id="67n9" id="1python中的函数">1.python中的函数</h2><p data-anchor-id="gqv8">函数是组织好的，可重复使用的，用来实现单一，或相关联功能的代码段。 <br>
函数能提高应用的模块性，和代码的重复利用率。你已经知道Python提供了许多内建函数，比如print()。但你也可以自己创建函数，这被叫做用户自定义函数。</p><div class="md-section-divider"></div><h3 data-anchor-id="9ms5" id="定义一个函数">定义一个函数</h3><p data-anchor-id="ehg6">你可以定义一个由自己想要功能的函数，以下是简单的规则：</p><blockquote data-anchor-id="4xcs" class="white-blockquote">
  <p>函数代码块以 def 关键词开头，后接函数标识符名称和圆括号()。 <br>
  任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数。 <br>
  函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。 <br>
  函数内容以冒号起始，并且缩进。 <br>
  return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。</p>
</blockquote><p data-anchor-id="127d">以下为一个简单的Python函数，它将一个字符串作为传入参数，再打印到标准显示设备上。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="o1hr" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> printme</span><span class="pun">(</span><span class="pln"> str </span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">   </span><span class="str">"打印传入的字符串到标准显示设备上"</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> str</span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">return</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="jpuh" id="函数调用">函数调用</h3><p data-anchor-id="yt68">定义一个函数只给了函数一个名称，指定了函数里包含的参数，和代码块结构。 <br>
这个函数的基本结构完成以后，你可以通过另一个函数调用执行，也可以直接从Python提示符执行。 <br>
如下实例调用了printme（）函数：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="mzs8" style=""><ol class="linenums"><li class="L0"><code><span class="com"># 定义函数</span></code></li><li class="L1"><code><span class="kwd">def</span><span class="pln"> printme</span><span class="pun">(</span><span class="pln"> str </span><span class="pun">):</span></code></li><li class="L2"><code><span class="pln">   </span><span class="str">"打印任何传入的字符串"</span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> str</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L5"><code></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="com"># 调用函数</span></code></li><li class="L8"><code><span class="pln">printme</span><span class="pun">(</span><span class="str">"我要调用用户自定义函数!"</span><span class="pun">);</span></code></li><li class="L9"><code><span class="pln">printme</span><span class="pun">(</span><span class="str">"再次调用同一函数"</span><span class="pun">);</span></code></li></ol></pre><p data-anchor-id="u0eg">在 python 中，类型属于对象，变量是没有类型的</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="r4t7" style=""><ol class="linenums"><li class="L0"><code><span class="pln">a</span><span class="pun">=[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">3</span><span class="pun">]</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pln">a</span><span class="pun">=</span><span class="str">"Runoob"</span></code></li></ol></pre><p data-anchor-id="vhmh">以上代码中，[1,2,3] 是 List 类型，"Runoob" 是 String 类型，而变量a 是没有类型，她仅仅是一个对象的引用（一个指针），可以是 List 类型对象，也可以指向 String 类型对象。</p><div class="md-section-divider"></div><h3 data-anchor-id="xdhg" id="参数">参数</h3><p data-anchor-id="ve5e">以下是调用函数时可使用的正式参数类型：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="q10t" style=""><ol class="linenums"><li class="L0"><code><span class="pun">位置参数</span></code></li><li class="L1"><code><span class="pun">关键字参数</span></code></li><li class="L2"><code><span class="pun">默认参数</span></code></li><li class="L3"><code><span class="pun">不定长参数</span></code></li></ol></pre><div class="md-section-divider"></div><h4 data-anchor-id="wg6q" id="位置参数">位置参数</h4><p data-anchor-id="ebvh">位置参数须以正确的顺序传入函数。调用时的数量必须和声明时的一样。</p><div class="md-section-divider"></div><h4 data-anchor-id="xepg" id="关键字参数">关键字参数</h4><p data-anchor-id="2dw6">关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。 <br>
使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="x2ct" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> printinfo</span><span class="pun">(</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> age </span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">   </span><span class="str">"打印任何传入的字符串"</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Name: "</span><span class="pun">,</span><span class="pln"> name</span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Age "</span><span class="pun">,</span><span class="pln"> age</span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">return</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com">#调用printinfo函数</span></code></li><li class="L7"><code><span class="pln">printinfo</span><span class="pun">(</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">50</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">=</span><span class="str">"miki"</span><span class="pln"> </span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h4 data-anchor-id="mxd5" id="默认参数">默认参数</h4><p data-anchor-id="2k25">调用函数时，默认参数的值如果没有传入，则被认为是默认值。下例会打印默认的age，如果age没有被传入：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4jpc" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> printinfo</span><span class="pun">(</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> age </span><span class="pun">=</span><span class="pln"> </span><span class="lit">35</span><span class="pln"> </span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">   </span><span class="str">"打印任何传入的字符串"</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Name: "</span><span class="pun">,</span><span class="pln"> name</span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Age "</span><span class="pun">,</span><span class="pln"> age</span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com">#调用printinfo函数</span></code></li><li class="L7"><code><span class="pln">printinfo</span><span class="pun">(</span><span class="pln"> age</span><span class="pun">=</span><span class="lit">50</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">=</span><span class="str">"miki"</span><span class="pln"> </span><span class="pun">)</span></code></li><li class="L8"><code><span class="pln">printinfo</span><span class="pun">(</span><span class="pln"> name</span><span class="pun">=</span><span class="str">"miki"</span><span class="pln"> </span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h4 data-anchor-id="eogu" id="不定长参数选学">不定长参数（选学）</h4><p data-anchor-id="y3wo">你可能需要一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数，和上述2种参数不同，声明时不会命名。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="w0nj" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> printinfo</span><span class="pun">(</span><span class="pln"> arg1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">*</span><span class="pln">vartuple </span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">   </span><span class="str">"打印任何传入的参数"</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"输出: "</span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> arg1</span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">for</span><span class="pln"> </span><span class="kwd">var</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> vartuple</span><span class="pun">:</span></code></li><li class="L5"><code><span class="pln">      </span><span class="kwd">print</span><span class="pln"> </span><span class="kwd">var</span></code></li><li class="L6"><code><span class="pln">   </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="com"># 调用printinfo 函数</span></code></li><li class="L9"><code><span class="pln">printinfo</span><span class="pun">(</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L0"><code><span class="pln">printinfo</span><span class="pun">(</span><span class="pln"> </span><span class="lit">70</span><span class="pun">,</span><span class="pln"> </span><span class="lit">60</span><span class="pun">,</span><span class="pln"> </span><span class="lit">50</span><span class="pln"> </span><span class="pun">);</span></code></li></ol></pre><p data-anchor-id="hhw6">以上实例的输出结果：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="pxkf" style=""><ol class="linenums"><li class="L0"><code></code></li><li class="L1"><code><span class="pun">输出:</span></code></li><li class="L2"><code><span class="lit">10</span></code></li><li class="L3"><code><span class="pun">输出:</span></code></li><li class="L4"><code><span class="lit">70</span></code></li><li class="L5"><code><span class="lit">60</span></code></li><li class="L6"><code><span class="lit">50</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="qir6" id="return-语句">Return 语句</h3><p data-anchor-id="m7z2">return语句[表达式]退出函数，选择性地向调用方返回一个表达式。不带参数值的return语句返回None。之前的例子都没有示范如何返回数值，下例便告诉你怎么做：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="homz" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> sum</span><span class="pun">(</span><span class="pln"> arg1</span><span class="pun">,</span><span class="pln"> arg2 </span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">   </span><span class="com"># 返回2个参数的和."</span></code></li><li class="L2"><code><span class="pln">   total </span><span class="pun">=</span><span class="pln"> arg1 </span><span class="pun">+</span><span class="pln"> arg2</span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"函数内 : "</span><span class="pun">,</span><span class="pln"> total</span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">return</span><span class="pln"> total</span><span class="pun">;</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com"># 调用sum函数</span></code></li><li class="L7"><code><span class="pln">total </span><span class="pun">=</span><span class="pln"> sum</span><span class="pun">(</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="pun">);</span></code></li></ol></pre><p data-anchor-id="tqtc">以下示例结果：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="osyf" style=""><ol class="linenums"><li class="L0"><code><span class="pun">函数内:</span><span class="pln"> </span><span class="lit">30</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="ioru" id="变量作用域选学">变量作用域(选学）</h3><p data-anchor-id="xzm6">一个程序的所有的变量并不是在哪个位置都可以访问的。访问权限决定于这个变量是在哪里赋值的。 <br>
变量的作用域决定了在哪一部分程序你可以访问哪个特定的变量名称。</p><blockquote data-anchor-id="tqnn" class="white-blockquote">
  <p>全局变量 <br>
  局部变量</p>
</blockquote><div class="md-section-divider"></div><h3 data-anchor-id="jcrh" id="全局变量和局部变量选学">全局变量和局部变量（选学）</h3><p data-anchor-id="54h3">定义在函数内部的变量拥有一个局部作用域，定义在函数外的拥有全局作用域。 <br>
局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。调用函数时，所有在函数内声明的变量名称都将被加入到作用域中。</p><div class="md-section-divider"></div><h2 data-anchor-id="hxgm" id="2python中的模块">2.python中的模块</h2><p data-anchor-id="hdvh">Python 模块(Module)，是一个 Python 文件，以 .py 结尾，包含了Python对象定义和Python语句。模块让你能够有逻辑地组织你的Python代码段。模块能定义函数，类和变量，模块里也能包含可执行的代码。</p><div class="md-section-divider"></div><h3 data-anchor-id="8z0j" id="import语句">import语句</h3><div class="md-section-divider"></div><h4 data-anchor-id="ac00" id="引入模块">引入模块</h4><p data-anchor-id="yas3">模块定义好后，我们可以使用 import 语句来引入模块，语法如下： <br>
import ...(模块名）</p><p data-anchor-id="hs0f">比如要引用模块 math，就可以在文件最开始的地方用 import math 来引入。在调用 math 模块中的函数时，必须这样引用：</p><blockquote data-anchor-id="kuuw" class="white-blockquote">
  <p>模块名.函数名</p>
</blockquote><p data-anchor-id="yvov">例</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="w40f" style=""><ol class="linenums"><li class="L0"><code><span class="com"># 导入模块</span></code></li><li class="L1"><code><span class="kwd">import</span><span class="pln"> support</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="com"># 现在可以调用模块里包含的函数了</span></code></li><li class="L4"><code><span class="pln">support</span><span class="pun">.</span><span class="pln">print_func</span><span class="pun">(</span><span class="str">"Runoob"</span><span class="pun">)</span></code></li></ol></pre><p data-anchor-id="cko6">以上实例输出结果：</p><blockquote data-anchor-id="cp5l" class="white-blockquote">
  <p>Hello : Runoob</p>
</blockquote><p data-anchor-id="f7z6">一个模块只会被导入一次，不管你执行了多少次import。这样可以防止导入模块被一遍又一遍地执行。</p><div class="md-section-divider"></div><h3 data-anchor-id="86og" id="fromimport-语句">from…import 语句</h3><p data-anchor-id="pf93">Python 的 from 语句让你从模块中导入一个指定的部分到当前命名空间中。语法如下：</p><blockquote data-anchor-id="3txn" class="white-blockquote">
  <p>from (模块名）import （模块部分）</p>
</blockquote><p data-anchor-id="xnk4">例如，要导入模块 fib 的fib函数，使用如下语句：</p><blockquote data-anchor-id="q42q" class="white-blockquote">
  <p>from fib import fibonacci</p>
</blockquote><p data-anchor-id="43zr">这个声明不会把整个 fib 模块导入到当前的命名空间中，它只会将 fib 里的 fibonacci 单个引入到执行这个声明的模块的全局符号表。</p><div class="md-section-divider"></div><h3 data-anchor-id="yl17" id="编写自己的模块">编写自己的模块</h3><p data-anchor-id="7l7s">编写你自己的模块很简单，这其实就是你一直在做的事情！这是因为每一个   Python  程序同时 也是一个模块。你只需要保证它以        .py     为扩展名即可。下面的案例会作出清晰的解释。</p><blockquote data-anchor-id="uv3p" class="white-blockquote">
  <p>案例（保存为     mymodule.py ）：</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="jw0g" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> say_hi</span><span class="pun">():</span><span class="pln">               </span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pun">(</span><span class="str">'Hi,  this is mymodule speaking.'</span><span class="pun">)</span></code></li><li class="L2"><code><span class="pln">__version__ </span><span class="pun">=</span><span class="pln">   </span><span class="str">'0.1'</span></code></li></ol></pre><p data-anchor-id="qrph">上方所呈现的就是一个简单的模块。正如你所看见的，与我们一般所使用的   Python  的程序相 比其实并没有什么特殊的区别。我们接下来将看到如何在其它    Python  程序中使用这一模块。 <br>
要记住该模块应该放置于与其它我们即将导入这一模块的程序相同的目录下，或者是放置在    sys.path        所列出的其中一个目录下。 </p><p data-anchor-id="6err">另一个模块（保存为       mymodule_demo.py    ）：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="c4vo" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">import</span><span class="pln">  mymodule</span></code></li><li class="L1"><code><span class="pln">mymodule</span><span class="pun">.</span><span class="pln">say_hi</span><span class="pun">()</span><span class="pln"> </span></code></li><li class="L2"><code><span class="kwd">print</span><span class="pun">(</span><span class="str">'Version'</span><span class="pun">,</span><span class="pln">    mymodule</span><span class="pun">.</span><span class="pln">__version__</span><span class="pun">)</span></code></li></ol></pre><p data-anchor-id="s9vt">输出</p><blockquote data-anchor-id="2kb8" class="white-blockquote">
  <p>Hi,    this    is  mymodule    speaking. Version   0.1</p>
</blockquote><p data-anchor-id="9ist">上述过程是怎么来运行的呢？ <br>
 我们是在   mymodule_demo.py文件中引入mymodule模块，通过模块.函数调用其中的say_hi函数及其模块中的version变量</p><div class="md-section-divider"></div><h3 data-anchor-id="apj4" id="以上就是我们今天所涉及到的函数与模块知识">以上就是我们今天所涉及到的函数与模块知识</h3></div>
</body>
</html>